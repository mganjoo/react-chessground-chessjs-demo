(this["webpackJsonpchess-demo"]=this["webpackJsonpchess-demo"]||[]).push([[0],{25:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(17),i=n.n(a),r=(n(25),n(3)),o=n(20),l=n(18),u=(n(41),n(0)),b=function(e){var t=e.children,n=e.shapes,s=e.onDraw,a=Object(o.a)(e,["children","shapes","onDraw"]),i=Object(c.useRef)(null),b=Object(c.useState)(),m=Object(r.a)(b,2),j=m[0],d=m[1];return Object(c.useEffect)((function(){return i.current&&!j&&d(Object(l.Chessground)(i.current,{})),function(){j&&j.destroy()}}),[j]),Object(c.useEffect)((function(){j&&(j.set(Object.assign(a,{drawable:{onChange:s}})),n&&j.setShapes(n))}),[j,a,s,n]),Object(u.jsx)("div",{ref:i,children:t})},m=n(19),j=n.n(m),d=n(43);function h(e){var t=new Map;return e.game_over()||e.SQUARES.forEach((function(n){var c=e.moves({square:n,verbose:!0});c.length&&t.set(n,c.map((function(e){return e.to})))})),t}function f(e){return"w"===e.turn()?"white":"black"}var x=function(){var e=Object(c.useState)(new d),t=Object(r.a)(e,1)[0],n=Object(c.useState)(t.fen()),s=Object(r.a)(n,2),a=s[0],i=s[1],o=Object(c.useState)("white"),l=Object(r.a)(o,2),m=l[0],x=l[1],O=Object(c.useState)(),p=Object(r.a)(O,2),g=p[0],v=p[1],y=Object(c.useState)(),w=Object(r.a)(y,2),N=w[0],k=w[1],C=Object(c.useState)(!1),S=Object(r.a)(C,2),_=S[0],D=S[1],B=Object(c.useState)(),F=Object(r.a)(B,2),E=F[0],M=F[1],R=Object(c.useState)(),P=Object(r.a)(R,2),q=P[0],I=P[1],J=function(e,n){e&&t.move({from:e[0],to:e[1],promotion:n}),k(void 0),i(t.fen()),v(e),I(t.pgn())},L=function(e){J(E,e),D(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("main",{className:"max-w-xl mx-auto py-6 px-4",children:[Object(u.jsx)(b,{fen:a,orientation:m,turnColor:f(t),lastMove:g,check:t.in_check(),movable:{free:!1,color:f(t),dests:h(t),events:{after:function(e,n){t.moves({verbose:!0}).some((function(t){return-1!==t.flags.indexOf("p")&&t.from===e}))?(M([e,n]),D(!0)):J([e,n])}}},premovable:{enabled:!1},onDraw:function(e){k(e)},shapes:N,viewOnly:t.game_over()}),Object(u.jsxs)("div",{className:"py-2 space-y-2 sm:flex-auto sm:flex sm:flex-row sm:space-x-2 sm:space-y-0 sm:justify-center",children:[Object(u.jsx)("button",{className:"c-button",onClick:function(){return x("white"===m?"black":"white")},children:"Flip"}),Object(u.jsx)("button",{className:"c-button",onClick:function(){t.reset(),J()},children:"Reset Board"}),Object(u.jsx)("button",{className:"c-button",onClick:function(){t.undo()&&J()},disabled:!t.history().length,children:"Undo Move"})]}),t.game_over()&&Object(u.jsx)("div",{className:"text-center py-2 bg-gray-900 text-gray-100 mt-2 mb-4",children:function(){if(t.in_stalemate())return"Stalemate";if(t.in_checkmate()){var e="w"===t.turn()?"Black":"White";return"Checkmate: ".concat(e," wins")}return t.in_threefold_repetition()?"Draw by threefold repetition":t.insufficient_material()?"Draw by insufficient material":t.in_draw()?"Draw":""}()}),Object(u.jsx)("div",{children:q}),Object(u.jsx)("div",{className:j()("fixed z-10 inset-0 overflow-y-auto",{hidden:!_}),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(u.jsxs)("div",{className:"flex items-start justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-95 transition-opacity","aria-hidden":"true"}),Object(u.jsx)("div",{className:"inline-block align-middle bg-white rounded-lg text-left overflow-hidden my-4 shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full",children:Object(u.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[Object(u.jsx)("div",{className:"sm:flex sm:items-center sm:justify-center mb-3",children:Object(u.jsx)("div",{className:"mt-3 text-center sm:mt-0",children:Object(u.jsx)("h3",{className:"text-xl leading-6 font-medium text-gray-900",id:"modal-title",children:"Promote piece"})})}),Object(u.jsxs)("div",{className:"px-2 py-3 space-y-2 sm:flex sm:flex-row sm:space-x-2 sm:space-y-0 sm:justify-center",children:[Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return L("q")},children:"Queen"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return L("r")},children:"Rook"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return L("b")},children:"Bishop"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return L("n")},children:"Knight"})]})]})})]})})]}),Object(u.jsxs)("footer",{className:"mt-4 text-center w-full text-sm text-gray-700",children:["Built using"," ",Object(u.jsx)("a",{href:"https://github.com/ornicar/chessground",children:"Chessground"})," +"," ",Object(u.jsx)("a",{href:"https://github.com/jhlywa/chess.js",children:"chess.js"}),"."," ",Object(u.jsx)("a",{href:"https://github.com/mganjoo/react-chessground-chessjs-demo",children:"View project on GitHub"}),"."]})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),O()}},[[44,1,2]]]);
//# sourceMappingURL=main.91d78341.chunk.js.map