(this["webpackJsonpchess-demo"]=this["webpackJsonpchess-demo"]||[]).push([[0],{25:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(17),i=n.n(a),r=(n(25),n(3)),o=n(20),l=n(18),u=(n(41),n(0)),b=function(e){var t=e.children,n=e.shapes,s=e.onDraw,a=Object(o.a)(e,["children","shapes","onDraw"]),i=Object(c.useRef)(null),b=Object(c.useState)(),m=Object(r.a)(b,2),d=m[0],j=m[1];return Object(c.useEffect)((function(){return i.current&&!d&&j(Object(l.Chessground)(i.current,{})),function(){d&&d.destroy()}}),[d]),Object(c.useEffect)((function(){d&&(d.set(Object.assign(a,{drawable:{onChange:s}})),n&&d.setShapes(n))}),[d,a,s,n]),Object(u.jsx)("div",{ref:i,children:t})},m=n(19),d=n.n(m),j=n(43);function f(e){var t=new Map;return e.game_over()||e.SQUARES.forEach((function(n){var c=e.moves({square:n,verbose:!0});c.length&&t.set(n,c.map((function(e){return e.to})))})),t}function h(e){return"w"===e.turn()?"white":"black"}var x=function(){var e=Object(c.useState)(new j),t=Object(r.a)(e,1)[0],n=Object(c.useState)(t.fen()),s=Object(r.a)(n,2),a=s[0],i=s[1],o=Object(c.useState)("white"),l=Object(r.a)(o,2),m=l[0],x=l[1],O=Object(c.useState)(),p=Object(r.a)(O,2),v=p[0],y=p[1],g=Object(c.useState)(),w=Object(r.a)(g,2),k=w[0],N=w[1],S=Object(c.useState)(!1),C=Object(r.a)(S,2),_=C[0],D=C[1],B=Object(c.useState)(),E=Object(r.a)(B,2),F=E[0],M=E[1],R=Object(c.useState)(),P=Object(r.a)(R,2),q=P[0],I=P[1],J=function(e,n){e&&t.move({from:e[0],to:e[1],promotion:n}),N(void 0),i(t.fen()),y(e),I(t.pgn())},L=function(e){J(F,e),D(!1)};return Object(u.jsxs)("main",{className:"max-w-xl mx-auto py-6 px-4",children:[Object(u.jsx)(b,{fen:a,orientation:m,turnColor:h(t),lastMove:v,check:t.in_check(),movable:{free:!1,color:h(t),dests:f(t),events:{after:function(e,n){t.moves({verbose:!0}).some((function(t){return-1!==t.flags.indexOf("p")&&t.from===e}))?(M([e,n]),D(!0)):J([e,n])}}},premovable:{enabled:!1},onDraw:function(e){N(e)},shapes:k,viewOnly:t.game_over()}),Object(u.jsxs)("div",{className:"py-2 space-y-2 sm:flex-auto sm:flex sm:flex-row sm:space-x-2 sm:space-y-0 sm:justify-center",children:[Object(u.jsx)("button",{className:"c-button",onClick:function(){return x("white"===m?"black":"white")},children:"Flip"}),Object(u.jsx)("button",{className:"c-button",onClick:function(){t.reset(),J()},children:"Reset Board"}),Object(u.jsx)("button",{className:"c-button",onClick:function(){t.undo()&&J()},disabled:!t.history().length,children:"Undo Move"})]}),t.game_over()&&Object(u.jsx)("div",{className:"text-center py-2 bg-gray-900 text-gray-100 mt-2 mb-4",children:function(){if(t.in_stalemate())return"Stalemate";if(t.in_checkmate()){var e="w"===t.turn()?"Black":"White";return"Checkmate: ".concat(e," wins")}return t.in_threefold_repetition()?"Draw by threefold repetition":t.insufficient_material()?"Draw by insufficient material":t.in_draw()?"Draw":""}()}),Object(u.jsx)("div",{children:q}),Object(u.jsx)("div",{className:d()("fixed z-10 inset-0 overflow-y-auto",{hidden:!_}),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(u.jsxs)("div",{className:"flex items-start justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-95 transition-opacity","aria-hidden":"true"}),Object(u.jsx)("div",{className:"inline-block align-middle bg-white rounded-lg text-left overflow-hidden my-4 shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full",children:Object(u.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[Object(u.jsx)("div",{className:"sm:flex sm:items-center sm:justify-center mb-3",children:Object(u.jsx)("div",{className:"mt-3 text-center sm:mt-0",children:Object(u.jsx)("h3",{className:"text-xl leading-6 font-medium text-gray-900",id:"modal-title",children:"Promote piece"})})}),Object(u.jsxs)("div",{className:"px-2 py-3 space-y-2 sm:flex sm:flex-row sm:space-x-2 sm:space-y-0 sm:justify-center",children:[Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return L("q")},children:"Queen"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return L("r")},children:"Rook"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return L("b")},children:"Bishop"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return L("n")},children:"Knight"})]})]})})]})})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),O()}},[[44,1,2]]]);
//# sourceMappingURL=main.acb4277d.chunk.js.map