(this["webpackJsonpchess-demo"]=this["webpackJsonpchess-demo"]||[]).push([[0],{25:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(17),a=n.n(i),r=(n(25),n(3)),o=n(20),l=n(18),u=(n(41),n(0)),b=function(e){var t=e.children,n=e.shapes,s=e.onDraw,i=Object(o.a)(e,["children","shapes","onDraw"]),a=Object(c.useRef)(null),b=Object(c.useState)(),m=Object(r.a)(b,2),d=m[0],j=m[1];return Object(c.useEffect)((function(){return a.current&&!d&&j(Object(l.Chessground)(a.current,{})),function(){d&&d.destroy()}}),[d]),Object(c.useEffect)((function(){d&&(d.set(Object.assign(i,{drawable:{onChange:s}})),n&&d.setShapes(n))}),[d,i,s,n]),Object(u.jsx)("div",{ref:a,children:t})},m=n(19),d=n.n(m),j=n(43);function f(e){var t=new Map;return e.game_over()||e.SQUARES.forEach((function(n){var c=e.moves({square:n,verbose:!0});c.length&&t.set(n,c.map((function(e){return e.to})))})),t}function h(e){return"w"===e.turn()?"white":"black"}var x=function(){var e=Object(c.useState)(new j),t=Object(r.a)(e,1)[0],n=Object(c.useState)(t.fen()),s=Object(r.a)(n,2),i=s[0],a=s[1],o=Object(c.useState)("white"),l=Object(r.a)(o,2),m=l[0],x=l[1],O=Object(c.useState)(),p=Object(r.a)(O,2),v=p[0],w=p[1],y=Object(c.useState)(),g=Object(r.a)(y,2),k=g[0],N=g[1],S=Object(c.useState)(!1),C=Object(r.a)(S,2),_=C[0],D=C[1],E=Object(c.useState)(),F=Object(r.a)(E,2),B=F[0],R=F[1],M=function(e,n){e&&t.move({from:e[0],to:e[1],promotion:n}),a(t.fen()),w(e)},P=function(e){M(B,e),D(!1)};return Object(u.jsxs)("main",{className:"max-w-xl mx-auto py-6 px-4",children:[Object(u.jsx)(b,{fen:i,orientation:m,turnColor:h(t),lastMove:v,check:t.in_check(),movable:{free:!1,color:h(t),dests:f(t),events:{after:function(e,n){t.moves({verbose:!0}).some((function(t){return-1!==t.flags.indexOf("p")&&t.from===e}))?(R([e,n]),D(!0)):M([e,n])}}},premovable:{enabled:!1},onDraw:function(e){N(e)},shapes:k,viewOnly:t.game_over()}),Object(u.jsxs)("div",{className:"flex flex-auto space-x-2 py-2 justify-center",children:[Object(u.jsx)("button",{className:"c-button",onClick:function(){return x("white"===m?"black":"white")},children:"Flip"}),Object(u.jsx)("button",{className:"c-button",onClick:function(){t.reset(),N(void 0),M()},children:"Reset"})]}),t.game_over()&&Object(u.jsx)("div",{className:"text-center py-2",children:function(){if(t.in_stalemate())return"Stalemate";if(t.in_checkmate()){var e="w"===t.turn()?"Black":"White";return"Checkmate: ".concat(e," wins")}return t.in_threefold_repetition()?"Draw by threefold repetition":t.insufficient_material()?"Draw by insufficient material":t.in_draw()?"Draw":""}()}),Object(u.jsx)("div",{className:d()("fixed z-10 inset-0 overflow-y-auto",{hidden:!_}),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(u.jsxs)("div",{className:"flex items-start justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-95 transition-opacity","aria-hidden":"true"}),Object(u.jsx)("div",{className:"inline-block align-middle bg-white rounded-lg text-left overflow-hidden my-4 shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full",children:Object(u.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[Object(u.jsx)("div",{className:"sm:flex sm:items-center sm:justify-center mb-3",children:Object(u.jsx)("div",{className:"mt-3 text-center sm:mt-0",children:Object(u.jsx)("h3",{className:"text-xl leading-6 font-medium text-gray-900",id:"modal-title",children:"Promote piece"})})}),Object(u.jsxs)("div",{className:"px-2 py-3 space-y-2 sm:flex sm:flex-row sm:space-x-2 sm:space-y-0 sm:justify-center",children:[Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return P("q")},children:"Queen"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return P("r")},children:"Rook"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return P("b")},children:"Bishop"}),Object(u.jsx)("button",{type:"button",className:"c-button",onClick:function(){return P("n")},children:"Knight"})]})]})})]})})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),O()}},[[44,1,2]]]);
//# sourceMappingURL=main.45b78e76.chunk.js.map